<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Page1</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <script>
      $(function () {
        $("head").load("head.html");
        $("#body").load("body.html");
        $("#foot").load("foot.html");
      });
    </script>

    <script>
      sid = [];
      sname = [];
      sdept = [];

      if (
        localStorage.getItem("sid") != null &&
        localStorage.getItem("sname") != null &&
        localStorage.getItem("dept") != null
      ) {
        sid = JSON.parse(localStorage.getItem("sid"));
        sname = JSON.parse(localStorage.getItem("sname"));
        sdept = JSON.parse(localStorage.getItem("dept"));
      }
    </script>
  </head>

  <body>
    <div id="body"></div>

    <div class="container d-flex flex-wrap justify-content-center gap-5">
      <!-- Card -->
      <div class="card" style="width: 50rem">
        <img
          src="https://i.pinimg.com/564x/c6/04/66/c60466febd098bb857777f509bada2d7.jpg"
          class="card-img-top"
          alt=" "
          style="width: 100%; height: 300px"
        />
        <div class="card-body">
          <h5 class="card-title">Student System</h5>
          <!-- Student ID -->
          <div class="form-floating mb-3">
            <input
              type="number"
              class="form-control"
              id="sid"
              placeholder=" "
            />
            <label>Student ID</label>
          </div>

          <!-- Student name -->
          <div class="form-floating mb-3">
            <input
              type="text"
              class="form-control"
              id="sname"
              placeholder=" "
            />
            <label>Student Name</label>
          </div>

          <!-- Student Department -->
          <div class="form-floating mb-3">
            <select
              class="form-select"
              id="dept"
              aria-label="Default select example"
            >
              <option selected>Choose Your Department</option>
              <option value="Automotive mechanic">Automotive mechanic</option>
              <option value="Mechatronic">Mechatronics</option>
              <option value="Information Technology">
                Information Technology
              </option>
            </select>
          </div>

          <button
            type="reset"
            class="btn btn-danger w-25"
            onclick="clear_form()"
          >
            Reset
          </button>
          <button
            type="submit"
            class="btn btn-success w-25"
            onclick="click_submit()"
          >
            Submit
          </button>

          <table
            class="table table-bordered border border-info border-3 mt-5 table-hover table-striped"
          >
            <thead class="table-warning">
              <tr>
                <th>Student ID</th>
                <th>Student Name</th>
                <th>Department</th>
              </tr>
            </thead>
            <tbody>
              <script>
                for (let i = 0; i < sid.length; i++) {
                  document.write("<tr>");
                  document.write("<td>" + sid[i] + "</td>");
                  document.write("<td>" + sname[i] + "</td>");
                  document.write("<td>" + sdept[i] + "</td>");
                  document.write("</tr>");
                }
              </script>
            </tbody>
          </table>
        </div>
      </div>
      <!-- End of Card -->
      <script>
        function click_submit() {
          sid.push(document.getElementById("sid").value);
          sname.push(document.getElementById("sname").value);
          sdept.push(document.getElementById("dept").value);

          localStorage.setItem("sid", JSON.stringify(sid));
          localStorage.setItem("sname", JSON.stringify(sname));
          localStorage.setItem("dept", JSON.stringify(sdept));

          location.reload();
        }

        function clear_form() {
          document.getElementById("sid").value = "";
          document.getElementById("sanme").value = "";
          document.getElementById("dept").selectedIndex = 0;
        }
      </script>
    </div>

    <div id="foot"></div>
  </body>
</html>
